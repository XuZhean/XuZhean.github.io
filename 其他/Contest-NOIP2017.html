<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><title>「复习」NOIP2017</title><link rel="shortcut icon" href="/images/avatar.png"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/css/highlight.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"></head><body><nav class="main-nav"><a href="/">Home</a><a href="/archives">Archives</a></nav><div class="profile"><section id="wrapper"><header id="header"><a href="/about"><img class="2x" id="avatar" src="/images/avatar.png"></a><h1>Cyanic's Blog</h1><h2></h2></header></section></div><section class="post" id="wrapper"><article><header><h1>「复习」NOIP2017</h1><h2 class="headline">10月 27, 2017 8:00·3,006 words
·11 minutes read<span class="tags"></span></h2></header><div id="toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#基础"><span class="toc-text">基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#搜索"><span class="toc-text">搜索</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#模拟"><span class="toc-text">模拟</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#贪心"><span class="toc-text">贪心</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二分"><span class="toc-text">二分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三分"><span class="toc-text">三分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#构造"><span class="toc-text">构造</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#离散化"><span class="toc-text">离散化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#扫描线"><span class="toc-text">扫描线</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前缀和-amp-差分"><span class="toc-text">前缀和&差分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#倍增"><span class="toc-text">倍增</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#离线"><span class="toc-text">离线</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分块"><span class="toc-text">分块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#打表"><span class="toc-text">打表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#位运算相关"><span class="toc-text">位运算相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#归并"><span class="toc-text">归并</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#STL"><span class="toc-text">STL</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#动态规划"><span class="toc-text">动态规划</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#概述"><span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#普通-背包DP"><span class="toc-text">普通/背包DP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#序列-区间-环形DP"><span class="toc-text">序列/区间/环形DP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#状压DP"><span class="toc-text">状压DP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#树形DP"><span class="toc-text">树形DP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数位DP"><span class="toc-text">数位DP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#环套树DP"><span class="toc-text">环套树DP</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#图论"><span class="toc-text">图论</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#图的遍历"><span class="toc-text">图的遍历</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#拓扑排序"><span class="toc-text">拓扑排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#图的连通性"><span class="toc-text">图的连通性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#强连通分量"><span class="toc-text">强连通分量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#最短路"><span class="toc-text">最短路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#最小生成树"><span class="toc-text">最小生成树</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#树相关"><span class="toc-text">树相关</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#直径，重心"><span class="toc-text">直径，重心</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DFS序"><span class="toc-text">DFS序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LCA"><span class="toc-text">LCA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#树链剖分"><span class="toc-text">树链剖分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#树上差分"><span class="toc-text">树上差分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#树上倍增"><span class="toc-text">树上倍增</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数学"><span class="toc-text">数学</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#小技巧"><span class="toc-text">小技巧</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数论"><span class="toc-text">数论</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GCD的性质"><span class="toc-text">GCD的性质</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#逆元"><span class="toc-text">逆元</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#欧拉函数"><span class="toc-text">欧拉函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#欧拉筛"><span class="toc-text">欧拉筛</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lucas定理及扩展形式"><span class="toc-text">Lucas定理及扩展形式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#中国剩余定理及扩展形式"><span class="toc-text">中国剩余定理及扩展形式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BSGS"><span class="toc-text">BSGS</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#组合计数"><span class="toc-text">组合计数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#组合数相关"><span class="toc-text">组合数相关</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#矩阵相关"><span class="toc-text">矩阵相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#概率论"><span class="toc-text">概率论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#博弈论"><span class="toc-text">博弈论</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SG函数"><span class="toc-text">SG函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组合游戏的和"><span class="toc-text">组合游戏的和</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#置换"><span class="toc-text">置换</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数据结构"><span class="toc-text">数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#栈，队列"><span class="toc-text">栈，队列</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#并查集"><span class="toc-text">并查集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#优先队列"><span class="toc-text">优先队列</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HASH"><span class="toc-text">HASH</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#树状数组"><span class="toc-text">树状数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#线段树"><span class="toc-text">线段树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ST表"><span class="toc-text">ST表</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#字符串"><span class="toc-text">字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#KMP"><span class="toc-text">KMP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tire"><span class="toc-text">Tire</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AC自动机"><span class="toc-text">AC自动机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LCP"><span class="toc-text">LCP</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#计算几何"><span class="toc-text">计算几何</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#基础知识"><span class="toc-text">基础知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#叉积，点积"><span class="toc-text">叉积，点积</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#凸包"><span class="toc-text">凸包</span></a></li></ol></li></ol></div><section id="post-body"><p>只是一些很<code>simple</code>的套路。</p>
<a id="more"></a>
<h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><p><strong>折半搜索。</strong>状态可合并（有时配合组合计数/指针单调扫描）。</p>
<h2 id="模拟"><a href="#模拟" class="headerlink" title="模拟"></a>模拟</h2><h2 id="贪心"><a href="#贪心" class="headerlink" title="贪心"></a>贪心</h2><p><strong>等价性的利用。</strong>经典模型：蚂蚁相撞后各自掉头，等价于彼此穿过。</p>
<p><strong>行列无关。</strong> 分别处理。</p>
<p><strong>一个点到所有点的距离最短。</strong>中位数。</p>
<h2 id="二分"><a href="#二分" class="headerlink" title="二分"></a>二分</h2><p><strong>二分答案。</strong>转化为判定性问题，常与贪心，DP结合。</p>
<h2 id="三分"><a href="#三分" class="headerlink" title="三分"></a>三分</h2><h2 id="构造"><a href="#构造" class="headerlink" title="构造"></a>构造</h2><h2 id="离散化"><a href="#离散化" class="headerlink" title="离散化"></a>离散化</h2><h2 id="扫描线"><a href="#扫描线" class="headerlink" title="扫描线"></a>扫描线</h2><p><strong>常与线段树结合。</strong>POJ1177。</p>
<h2 id="前缀和-amp-差分"><a href="#前缀和-amp-差分" class="headerlink" title="前缀和&amp;差分"></a>前缀和&amp;差分</h2><p><strong>两者往往相互转化。</strong>修改区间的前缀和/差分值，等价于交换/修改单点的前缀和/差分值。</p>
<p><strong>序列的差分。</strong></p>
<h2 id="倍增"><a href="#倍增" class="headerlink" title="倍增"></a>倍增</h2><p><strong><code>NOIP</code>的常考点。</strong>可以优化为$\log$或去掉一个$\log$。</p>
<p><strong>优化答案合并。</strong>假设现在有问题$f(N)$，如果我们可以通过$f(A)$和$f(B)$快速求出$f(A+B)$，则我们就可以倍增。二进制拆分为$\log$个答案，再合并就是最终答案。</p>
<p><strong>优化二分。</strong>对于一些具有单调性的问题，我们可以二分答案，再用倍增求，复杂度$O(\log n \log n)$ 。事实上可以用倍增优化二分，复杂度降到$O(\log n)$ 。</p>
<ul>
<li>假设二分的区间是$[0,n]$，设$m = \log n$。</li>
<li>设答案$ans$一开始为$0$，先检验$ans+2^m$是否满足条件，如果满足则让$ans+=2^m$。</li>
<li>之后让$m–1$，一直做到$m=0$为止。</li>
<li>正确性显然，相当于二进制逐位确定最终的$ans$。</li>
</ul>
<h2 id="离线"><a href="#离线" class="headerlink" title="离线"></a>离线</h2><h2 id="分块"><a href="#分块" class="headerlink" title="分块"></a>分块</h2><p><strong>整除形式的分块。</strong>取整后的值只有$O(\sqrt{n} )$个。</p>
<p><strong>优化暴力。</strong>往往是把两种暴力合并，适用于询问大小不同的情况。或者总量确定，大于$O(\sqrt n)$的不超过$O(\sqrt n)$。</p>
<h2 id="打表"><a href="#打表" class="headerlink" title="打表"></a>打表</h2><p><strong>分段打表。</strong> 防止表过大。</p>
<h2 id="位运算相关"><a href="#位运算相关" class="headerlink" title="位运算相关"></a>位运算相关</h2><p><strong>异或。</strong></p>
<ul>
<li>异或两次相当于不操作。</li>
<li>前缀和。</li>
<li>相当于不进位的加法，$a+b = a \oplus b + 2 \times a \&amp; b$</li>
</ul>
<h2 id="归并"><a href="#归并" class="headerlink" title="归并"></a>归并</h2><p><strong>合并有序相邻。</strong></p>
<h2 id="STL"><a href="#STL" class="headerlink" title="STL"></a>STL</h2><p><strong>bitset。</strong>优化$01$矩阵运算等。</p>
<h1 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p><strong>改变阶段。</strong>使得不存在后效性。</p>
<p><strong>滚动数组。</strong><del>小心MLE</del></p>
<p><strong>分成两次DP。</strong>LA4394。</p>
<p><strong>记录决策路径。</strong>DFS输出方案。</p>
<p><strong>bool类型作为DP的值。</strong>标记状态是否可能到达。（POJ2134）</p>
<p><strong>未来费用。</strong>提前计算。</p>
<p><strong>正序与逆序。</strong>互相转化。</p>
<p><strong>减去非法转移。</strong> 容斥。</p>
<h2 id="普通-背包DP"><a href="#普通-背包DP" class="headerlink" title="普通/背包DP"></a>普通/背包DP</h2><p><strong>单调队列优化多重背包DP。</strong>POJ3260</p>
<h2 id="序列-区间-环形DP"><a href="#序列-区间-环形DP" class="headerlink" title="序列/区间/环形DP"></a>序列/区间/环形DP</h2><p><strong>线段树优化。</strong>优化区间修改，最值查询。（同一阶段的所有状态用线段树维护）</p>
<p><strong>区间元素种类个数。</strong>记录上一次出现位置。</p>
<p><strong>前缀和。</strong>前缀和优化DP。</p>
<h2 id="状压DP"><a href="#状压DP" class="headerlink" title="状压DP"></a>状压DP</h2><p><strong>预处理转移。</strong></p>
<p><strong>暴力枚举子集。</strong> $for\ (int\ i=S;\ i;\ i=(i-1)\ \&amp;\ S)$，复杂度变为$O(3^n)$。</p>
<p><strong>转移时顺序无关。</strong>强制转移$lowbit$。</p>
<h2 id="树形DP"><a href="#树形DP" class="headerlink" title="树形DP"></a>树形DP</h2><p><strong>求以所有节点为根时的解。</strong>DFS时，父节点向子节点转移信息。</p>
<p><strong>背包DP转移。</strong>从子节点转移到父节点，使用背包DP。</p>
<p><strong>二叉树。</strong>转化为序列的DP。</p>
<h2 id="数位DP"><a href="#数位DP" class="headerlink" title="数位DP"></a>数位DP</h2><p><strong>DFS通用模版。</strong></p>
<p><strong>注意前缀0。</strong></p>
<h2 id="环套树DP"><a href="#环套树DP" class="headerlink" title="环套树DP"></a>环套树DP</h2><p><strong>DFS找基环。</strong></p>
<h1 id="图论"><a href="#图论" class="headerlink" title="图论"></a>图论</h1><p><strong>线段树优化建图。</strong></p>
<p><strong>从二元关系联系到图。</strong></p>
<h2 id="图的遍历"><a href="#图的遍历" class="headerlink" title="图的遍历"></a>图的遍历</h2><h2 id="拓扑排序"><a href="#拓扑排序" class="headerlink" title="拓扑排序"></a>拓扑排序</h2><p><strong>字典序最小。</strong>优先队列优化。</p>
<h2 id="图的连通性"><a href="#图的连通性" class="headerlink" title="图的连通性"></a>图的连通性</h2><p><strong>DFS树。</strong>逆向边，横向边…</p>
<h3 id="强连通分量"><a href="#强连通分量" class="headerlink" title="强连通分量"></a>强连通分量</h3><p><strong>缩点。</strong>原图变为DAG，在此基础上进行拓扑排序。</p>
<h2 id="最短路"><a href="#最短路" class="headerlink" title="最短路"></a>最短路</h2><p><strong>Dijksta堆优化。</strong>滋瓷次短路。</p>
<p><strong>附加状态，建立最短路模型。</strong></p>
<p>经典模型：判断一个数$n$能否由若干个给定的数线性叠加得到。以最小的数$a0$为模，最短路求余数为$i$的能够组成的最小的数。（BZOJ2118）</p>
<p><strong>分层图最短路。</strong></p>
<p><strong>判断一条边是否属于最短路。</strong>最短路不等式取等。</p>
<p><strong>差分约束系统。</strong>列出所有不等式（等价于最短路不等式），连边。SPFA求解，无解存在负环/正环。有时需要二分答案，注意需要满足二分的前提（POJ1275）。</p>
<p><strong>状态图非DAG上的DP。</strong>使用SPFA的思想，迭代逼近最优解。</p>
<h2 id="最小生成树"><a href="#最小生成树" class="headerlink" title="最小生成树"></a>最小生成树</h2><p><strong>Prim。</strong>似乎没用。</p>
<p><strong>Kruskal。</strong>从小到大加边，并查集维护连通性。</p>
<p><strong>次小生成树。</strong>预处理最小生成树，构造倍增数组，求路径最值。</p>
<p><strong>最小生成树=最小瓶颈树。</strong></p>
<h1 id="树相关"><a href="#树相关" class="headerlink" title="树相关"></a>树相关</h1><h2 id="直径，重心"><a href="#直径，重心" class="headerlink" title="直径，重心"></a>直径，重心</h2><p><strong>直径。</strong>树中最长的路径，通过两次$BFS$得到。</p>
<ul>
<li>树的直径并不唯一，但是直径的中点都是一样的。</li>
<li>直径合并：对于两棵树$T,S$，任取他们的直径$(Ta,Tb)$，$(Sa,Sb)$。假设现在有一条边连接了$T$和$S$，构成了新的树$M$，那么$(Ta,Tb,Sa,Sb)$这四个点中一定能选出两个点$u,v$，使得$(u,v)$是$M$的一条直径。</li>
<li>对于一些要你在树上选两个点的题，可以先打表看看，很大概率是选在直径上最优。</li>
</ul>
<p><strong>重心。</strong>定义一个点的重量是去掉它之后树的最大的联通块的大小。我们将一棵树中重量最小的点称为重心（小于等于$size$即可满足）。</p>
<ul>
<li>一棵树最多只有两个重心。</li>
</ul>
<h2 id="DFS序"><a href="#DFS序" class="headerlink" title="DFS序"></a>DFS序</h2><p><strong>时间戳。</strong>树在进行$DFS$时，进入子树的时间$in[u]$和$out[u]$。</p>
<p><strong>祖先关系判断。</strong>$y$在$x$的子树中的充要条件是：$in[x] \leq in[y] \leq out[y] \leq out[x]$。</p>
<p><strong>转化为区间维护问题</strong>。用树状数组或线段树维护即可。</p>
<h2 id="LCA"><a href="#LCA" class="headerlink" title="LCA"></a>LCA</h2><p><strong>Tarjan。</strong>离线，并查集辅助。$O(n+Q)$。</p>
<h2 id="树链剖分"><a href="#树链剖分" class="headerlink" title="树链剖分"></a>树链剖分</h2><h2 id="树上差分"><a href="#树上差分" class="headerlink" title="树上差分"></a>树上差分</h2><p><strong>优化链修改。</strong>拆分为$u \rightarrow lca, lca \rightarrow v$,需要离线。BZOJ3631。</p>
<p><strong>DFS前后贡献作差。</strong>用同维护总贡献，作差算出子树贡献。NOIP2016D1T2。</p>
<h2 id="树上倍增"><a href="#树上倍增" class="headerlink" title="树上倍增"></a>树上倍增</h2><h1 id="数学"><a href="#数学" class="headerlink" title="数学"></a>数学</h1><h2 id="小技巧"><a href="#小技巧" class="headerlink" title="小技巧"></a>小技巧</h2><p><strong>调和级数。</strong>$\large \sum _{i=1} ^{n} \frac 1 i = \ln (n+1) + γ$，常用于估算时间复杂度。</p>
<p><strong>整数分块。</strong>整除时，枚举商。</p>
<p><strong>快速乘。</strong>相乘爆$long\ long$时，使用$O(\log n)$的快速乘。</p>
<p><strong>莫比乌斯函数。</strong>容斥系数。</p>
<p><strong>约数个数上界。</strong>目前没有比较好<del>容易算</del>的上界。只要记一下实际数字QAQ，大致如下：</p>
<ul>
<li>$10^9$，约为$10^3$</li>
<li>$10^{13}$，约为$10^4$</li>
<li>$10^{18}$，约为$10^5$</li>
</ul>
<h2 id="数论"><a href="#数论" class="headerlink" title="数论"></a>数论</h2><h3 id="GCD的性质"><a href="#GCD的性质" class="headerlink" title="GCD的性质"></a>GCD的性质</h3><ul>
<li>若$x$与$y$互质，则$x+ky$与$y$互质。BZOJ2186。</li>
<li>不断对某个数取<code>gcd</code>，得到不同的值最多有$O( \log)$个。</li>
</ul>
<h3 id="逆元"><a href="#逆元" class="headerlink" title="逆元"></a>逆元</h3><ul>
<li><p>必须与模数<strong>互质</strong>。</p>
</li>
<li><p>扩展GCD，求解。</p>
</li>
<li>费马小定理，快速幂$power(x,MOD-2)$。需要保证$MOD$是质数。</li>
<li>线性递推求逆元：</li>
<li><ul>
<li>设，$ki+r\equiv 0\pmod p$</li>
<li>那么，$kr^{-1}+i^{-1} \equiv 0 \pmod p$</li>
<li>移项，$i^{-1}≡-kr^{-1} \pmod p$</li>
<li>于是，$i^{-1} \equiv - \lfloor \frac p i \rfloor \times (p\%i)^{-1} \pmod p$</li>
<li>结论；$rev[i] = -(p/i) \times rev[p\%i]\ \%\ p$</li>
</ul>
</li>
</ul>
<h3 id="欧拉函数"><a href="#欧拉函数" class="headerlink" title="欧拉函数"></a>欧拉函数</h3><p><strong>积性函数。</strong>对于两个互质的数$n,m$,有$\varphi(nm) = \varphi(n) \times \varphi(m)$。</p>
<p>$\varphi(n) = n \times (1- \frac 1 {p[1]}) \times .. \times (1- \frac 1 {p[k]})$</p>
<h3 id="欧拉筛"><a href="#欧拉筛" class="headerlink" title="欧拉筛"></a>欧拉筛</h3><h3 id="Lucas定理及扩展形式"><a href="#Lucas定理及扩展形式" class="headerlink" title="Lucas定理及扩展形式"></a>Lucas定理及扩展形式</h3><p>若模数$p$是质数，那么$C(n,m)=C(n/p,m/p) \times C(n\%p,m\%p) \bmod p$</p>
<p>适用于模数较小，且$n,m$较大时的计算。</p>
<h3 id="中国剩余定理及扩展形式"><a href="#中国剩余定理及扩展形式" class="headerlink" title="中国剩余定理及扩展形式"></a>中国剩余定理及扩展形式</h3><p>基本结论：</p>
<p><strong>扩展形式。</strong>模数不互质。合并同余方程组。</p>
<h3 id="BSGS"><a href="#BSGS" class="headerlink" title="BSGS"></a>BSGS</h3><p>求$a^x \equiv b \pmod p$的最小解。</p>
<p>显然$x&lt;p$，每次令$x$增加$\sqrt p$。$exgcd$求出$a^{k\sqrt p+y} \equiv b \pmod p$的$a^y$，从预处理过的$HASH$表中查找即可。</p>
<h2 id="组合计数"><a href="#组合计数" class="headerlink" title="组合计数"></a>组合计数</h2><p><strong>补集转换。</strong>方便计算。</p>
<h3 id="组合数相关"><a href="#组合数相关" class="headerlink" title="组合数相关"></a>组合数相关</h3><p>$C(i,j)=C(i-1,j-1)+C(i-1,j)$，预处理组合数。</p>
<p><strong>容斥原理。</strong></p>
<p>形式一：所有条件必须满足。加上全集，减去至少一个条件不合法的，加上至少两个不合法的…</p>
<p>形式二：至少满足一个条件。加上至少满足一个的（会多次计算），减去满足两个的…</p>
<p>适用于概率的计算。</p>
<p>暴力状压枚举/DP计算。</p>
<h2 id="矩阵相关"><a href="#矩阵相关" class="headerlink" title="矩阵相关"></a>矩阵相关</h2><p><strong>不满足交换率。</strong>注意乘法顺序！</p>
<p><strong>矩阵快速幂。</strong>优化<strong>线性</strong>递推。</p>
<p><strong>循环矩阵。</strong>相乘后仍然是循环矩阵。只需保存第一行，乘法复杂度$O(n^2)$。BZOJ2510</p>
<p><strong>Floyd矩阵。</strong>求$K$步后点对的最短路。满足结合律，故可以快速幂。</p>
<h2 id="概率论"><a href="#概率论" class="headerlink" title="概率论"></a>概率论</h2><p><strong>全概率，全期望公式。</strong>分类。</p>
<p><strong>数学期望的线性性。</strong>$E(kx+b)=kE(x)+b$。期望可线性叠加。</p>
<p><strong>树上的概率/期望问题，且与父节点/根节点相关。序列上的问题，与某一个位置相关。</strong>列方程求解（待定系数）。HDU4089.4035,ZOJ3329。</p>
<p><strong>DP。</strong>概率顺推，期望逆推。</p>
<p><strong>图上的期望/概率问题。</strong>联立方程组，高斯消元。</p>
<h2 id="博弈论"><a href="#博弈论" class="headerlink" title="博弈论"></a>博弈论</h2><h3 id="SG函数"><a href="#SG函数" class="headerlink" title="SG函数"></a>SG函数</h3><p>必输态为$0$，否则为非$0$。$SG(u)=mex{SG(v)}$，状态$u$能到达状态$v$。</p>
<h3 id="组合游戏的和"><a href="#组合游戏的和" class="headerlink" title="组合游戏的和"></a>组合游戏的和</h3><p>若干个不不相关的组合游戏，总的$SG$等于各个字游戏$SG$的$xor$和。</p>
<p><strong>打表。</strong>无法找出规律时，打表SG，找出规律。往往都是递归形式的。</p>
<p><strong>暴力DP。</strong></p>
<h2 id="置换"><a href="#置换" class="headerlink" title="置换"></a>置换</h2><p><strong>分解为若干个循环。</strong>每个循环是一个独立的环。置换的周期为所有环长的$lcm$。</p>
<p><strong>求若干次之后的置换。</strong>倍增。</p>
<h1 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h1><p><strong>基准值。</strong>需要增加全局的数（或除去某个数），维护一个全局增量$\Delta$。</p>
<h2 id="栈，队列"><a href="#栈，队列" class="headerlink" title="栈，队列"></a>栈，队列</h2><p><strong>单调栈。</strong>维护单调性。<strong>应用：</strong> 求出一个数左/右第一个比这个数大/小的数。</p>
<p><strong>单调队列。</strong>维护队列单调性，<em>转移限制距离</em>，从队首弹出。常用于优化DP。</p>
<h2 id="并查集"><a href="#并查集" class="headerlink" title="并查集"></a>并查集</h2><p><strong>带权并查集。</strong> 维护与祖先的关系，路径压缩时合并。</p>
<p><strong>时光倒流。</strong>支持分离。</p>
<p><strong>按秩合并。</strong>保证树高$O( \log)$，不改变树的形态。支持删除，暴力上爬。<strong>常数很小！</strong></p>
<h2 id="优先队列"><a href="#优先队列" class="headerlink" title="优先队列"></a>优先队列</h2><p><strong>配合贪心，支持反悔操作。</strong>通过加入新收益-旧收益到堆中。有时配合双向链表。51Nod1380。</p>
<h2 id="HASH"><a href="#HASH" class="headerlink" title="HASH"></a>HASH</h2><p><strong>MAP/链表存储。</strong>映射到范围更小的值，插入链表。</p>
<p><strong>集合的HASH。</strong>把所有数据都$xor$起来，这种方法适用于<strong>数据不需要维持相对顺序</strong>的时候，要求元素互异。另一种做法是利用$seed$的幂次，支持多重集合。</p>
<p><strong>序列的HASH。</strong>转化成一个$seed$进制下的数模一个质数的值，是可以<strong>支持询问一个区间的值，拼接若干区间，以及插入，删除，修改之后的全局/区间询问。</strong></p>
<p><strong>双模数HASH。</strong>当极易产生冲突时，使用两个模数校验。</p>
<h2 id="树状数组"><a href="#树状数组" class="headerlink" title="树状数组"></a>树状数组</h2><p><strong>求逆序对。</strong></p>
<p><strong>二维树状数组。</strong>外层再增加一个循环即可。</p>
<p><strong>点查询与前缀修改。</strong>一般的树状数组能够支持点修改，前缀查询。通过改变$i$更新方向，可以交换询问和修改。（维护和时，也可以差分）。</p>
<p><strong>树状数组上倍增。</strong> 动态第$K$大。</p>
<h2 id="线段树"><a href="#线段树" class="headerlink" title="线段树"></a>线段树</h2><p><strong>线段树分治结构利用。</strong></p>
<p><strong>均摊复杂度分析。</strong>看似暴力的做法，复杂度正确。</p>
<p><strong>一些模型。</strong></p>
<ul>
<li>维护等差数列：首项，末项，公差。HDU3340。</li>
<li>保存前缀，后缀信息。</li>
</ul>
<p><strong>标记的奇妙合并。</strong>覆盖，等价性合并。BZOJ1858。</p>
<h2 id="ST表"><a href="#ST表" class="headerlink" title="ST表"></a>ST表</h2><p>支持$O(n\log n)$的倍增预处理，$O(1)$离线查询。</p>
<h1 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h1><h2 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h2><p><strong>最小周期串。</strong>$n-next[n-1]$。</p>
<p><strong>把匹配位置作为状态的DP。</strong></p>
<h2 id="Tire"><a href="#Tire" class="headerlink" title="Tire"></a>Tire</h2><p><strong>与位运算结合。</strong>贪心地在Tire树上跑。</p>
<h2 id="AC自动机"><a href="#AC自动机" class="headerlink" title="AC自动机"></a>AC自动机</h2><p><strong>配合DP。</strong>以位置作为状态（可以矩阵快速幂优化），有时配合状压记录是否访问病毒串。</p>
<p><strong>fail指针。</strong>反向建树。BZOJ2434。</p>
<h2 id="LCP"><a href="#LCP" class="headerlink" title="LCP"></a>LCP</h2><p><strong>HAHS+二分。</strong></p>
<h1 id="计算几何"><a href="#计算几何" class="headerlink" title="计算几何"></a>计算几何</h1><h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><h2 id="叉积，点积"><a href="#叉积，点积" class="headerlink" title="叉积，点积"></a>叉积，点积</h2><p><strong>有向面积。</strong>向量构成的有向面积是叉积的一半。</p>
<p><strong>判断两条线段是否相交。</strong>叉积判断。</p>
<h2 id="凸包"><a href="#凸包" class="headerlink" title="凸包"></a>凸包</h2></section><nav id="post-nav"><span class="prev"></span><span class="next"></span></nav></article></section><footer id="footer"><div id="social"><a class="symbol" href="https://github.com/fuzhouxxdong"><i class="fa fa-github"></i></a></div><p class="small">© Copyright 2018 &nbsp;<i class="fa fa-heart" aria-hidden="true">&nbsp;Dxx</i></p><p class="small">Powered by &nbsp;<a href="https://hexo.io/">Hexo &nbsp;</a>Theme By &nbsp;<a href="https://github.com/fuzhouxxdong/hexo-theme-dxx">Dxx</a></p></footer></body></html>